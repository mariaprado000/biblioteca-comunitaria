{% extends 'appdashboard/base.html' %}

{% block title %}Categorias - Biblioteca Comunitária{% endblock %}

{% block content %}
<div class='row mb-3'>
    <div class='col'>
        <h2><i class='fas fa-tags'></i> Categorias</h2>
    </div>
    <div class='col text-right'>
        <a href='{% url 'categoria_create' %}' class='btn btn-success'>
            <i class='fas fa-plus'></i> Adicionar Categoria
        </a>
    </div>
</div>

<div class='table-responsive'>
    <table class='table table-striped table-hover'>
        <thead class='thead-dark'>
            <tr>
                <th>Nome</th>
                <th>Descrição</th>
                <th>Criado em</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for categoria in categorias %}
            <tr>
                <td>{{ categoria.nome }}</td>
                <td>{{ categoria.descricao|truncatewords:10 }}</td>
                <td>{{ categoria.criado_em|date:'d/m/Y H:i' }}</td>
                <td>
                    <a href='{% url 'categoria_update' categoria.id %}' class='btn btn-sm btn-primary'>
                        <i class='fas fa-edit'></i> Editar
                    </a>
                    <a href='{% url 'categoria_delete' categoria.id %}' class='btn btn-sm btn-danger'>
                        <i class='fas fa-trash'></i> Excluir
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan='4' class='text-center'>Nenhuma categoria cadastrada.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
