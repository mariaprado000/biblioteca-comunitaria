<!-- Menu -->
<aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
  <div class="app-brand demo">
    <a href="{% url 'app_dashboard:home' %}" class="app-brand-link">
      <span class="app-brand-logo demo">
        <span class="text-primary">
          <i class="bx bx-book-open" style="font-size: 2rem;"></i>
        </span>
      </span>
      <span class="app-brand-text demo menu-text fw-bold ms-2">Biblioteca</span>
    </a>

    <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none">
      <i class="bx bx-chevron-left bx-sm d-flex align-items-center justify-content-center"></i>
    </a>
  </div>

  <div class="menu-inner-shadow"></div>

  <ul class="menu-inner py-1">
    <!-- Dashboard -->
    <li class="menu-item {% if request.resolver_match.namespace == 'app_dashboard' %}active{% endif %}">
      <a href="{% url 'app_dashboard:home' %}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-home-circle"></i>
        <div class="text-truncate" data-i18n="Analytics">Dashboard</div>
      </a>
    </li>

    <!-- Biblioteca Section -->
    <li class="menu-header small text-uppercase"><span class="menu-header-text">Biblioteca</span></li>
    
    <li class="menu-item {% if request.resolver_match.namespace == 'app_livro' %}active{% endif %}">
      <a href="{% url 'app_livro:listar' %}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-book"></i>
        <div class="text-truncate">Livros</div>
      </a>
    </li>

    <li class="menu-item {% if request.resolver_match.namespace == 'app_categoria' %}active{% endif %}">
      <a href="{% url 'app_categoria:listar' %}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-collection"></i>
        <div class="text-truncate">Categorias</div>
      </a>
    </li>

    <!-- Gestão Section (apenas para funcionários) -->
    {% if user_is_funcionario %}
    <li class="menu-header small text-uppercase"><span class="menu-header-text">Gestão</span></li>
    
    <li class="menu-item {% if request.resolver_match.namespace == 'app_leitor' %}active{% endif %}">
      <a href="{% url 'app_leitor:listar' %}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-group"></i>
        <div class="text-truncate">Leitores</div>
      </a>
    </li>

    <li class="menu-item {% if request.resolver_match.namespace == 'app_funcionario' %}active{% endif %}">
      <a href="{% url 'app_funcionario:listar' %}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-user-check"></i>
        <div class="text-truncate">Funcionários</div>
      </a>
    </li>

    <li class="menu-item {% if request.resolver_match.namespace == 'app_emprestimo' %}active{% endif %}">
      <a href="{% url 'app_emprestimo:listar' %}" class="menu-link">
        <i class="menu-icon tf-icons bx bx-transfer"></i>
        <div class="text-truncate">Empréstimos</div>
      </a>
    </li>
    {% endif %}

  </ul>
</aside>
<!-- / Menu -->