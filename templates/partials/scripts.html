{% load static %}
<!-- Core JS -->
<script src="{% static 'sneat/vendor/libs/jquery/jquery.js' %}"></script>

<!-- Bootstrap Bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Perfect Scrollbar -->
<script src="{% static 'sneat/vendor/libs/perfect-scrollbar/perfect-scrollbar.js' %}"></script>

<!-- Menu JS (simplified version) -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Menu toggle functionality for mobile
    const menuToggle = document.querySelector('.layout-menu-toggle');
    const layoutMenu = document.querySelector('#layout-menu');
    
    if (menuToggle && layoutMenu) {
      menuToggle.addEventListener('click', function(e) {
        e.preventDefault();
        document.body.classList.toggle('layout-menu-expanded');
      });
    }
    
    // Auto-collapse menu items
    const menuLinks = document.querySelectorAll('.menu-link');
    menuLinks.forEach(function(link) {
      link.addEventListener('click', function() {
        if (window.innerWidth < 1200) {
          document.body.classList.remove('layout-menu-expanded');
        }
      });
    });
  });
</script>

<!-- Main JS (simplified version) -->
<script>
  'use strict';
  
  document.addEventListener('DOMContentLoaded', function () {
    // iOS specific styles
    if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {
      document.body.classList.add('ios');
    }
    
    // Initialize perfect scrollbar if needed
    if (typeof PerfectScrollbar !== 'undefined') {
      const menuInner = document.querySelector('.menu-inner');
      if (menuInner) {
        new PerfectScrollbar(menuInner, {
          wheelPropagation: false,
          suppressScrollX: true
        });
      }
    }
    
    // Set active menu item
    const currentPath = window.location.pathname;
    const menuLinks = document.querySelectorAll('.menu-link');
    menuLinks.forEach(function(link) {
      if (link.getAttribute('href') === currentPath) {
        link.closest('.menu-item').classList.add('active');
      }
    });
  });
</script>

{% block extra_js %}{% endblock %}